---
import { format } from "date-fns";
// date-fns #2629 & #2694
// https://github.com/date-fns/date-fns/issues/2964#issuecomment-1397856471
import id from "date-fns/locale/id/index";

import MainLayout from "@/layouts/MainLayout/index.astro";
import {
  Card,
  CardHeader,
  CardTitle,
  CardDescription,
  CardContent,
} from "@/components/ui/card";
import { getUpcomingHolidays } from "@/services/api/getUpcomingHolidays";

const upcomingHolidays = await getUpcomingHolidays();

const closestHoliday = upcomingHolidays[0];
---

<MainLayout>
  <Card className="bg-red-50">
    <CardHeader>
      <CardDescription className="text-xs">
        Hari Libur Terdekat Berikutnya
      </CardDescription>
      <CardTitle className="text-xl lg:text-2xl">
        {closestHoliday.holiday_name}
      </CardTitle>
    </CardHeader>
    <CardContent>
      <p class="text-sm">
        {
          format(new Date(closestHoliday.holiday_date), "eeee, dd MMMM yyyy", {
            locale: id,
          })
        }
      </p>
    </CardContent>
  </Card>
</MainLayout>
